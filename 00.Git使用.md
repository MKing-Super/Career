# Git使用

## 一、windows

### 1.基础命令

windows-cmd

```
ssh-keygen -t rsa	
```

win系统：C:\Users\kun.ma\.ssh

将公钥 id_rsa.pub 内容放入github - setting - SSH and GPG keys 中



git-bash

```bash
# 测试连接
ssh -T git@github.com

# 克隆
git clone git@github.com:MKing-Super/Career.git

# 初始化（第一次用）
# git init

# 和远程仓库连接（第一次）
git remote add origin git@github.com:MKing-Super/Career.git


#  把所有有变化的文件都放进暂存区
git add .

# 把暂存区中有变更的文件提交到本地仓库
git commit -m 'my commit'

# 把本地仓库和远程仓库关联之后，就可以用git push 命令来推送代码
git push git@github.com:MKing-Super/Career.git

# 从远程仓库拉取项目
git pull git@github.com:MKing-Super/Career.git
```

分支操作

```bash
git checkout main          # 切换到main分支
git merge master           # 将master合并到main
git push origin main       # 推送合并后的main分支
```

> **历史无关分支合并**‌：若两分支无共同祖先，需添加`--allow-unrelated-histories`参数‌
>
> git merge master --allow-unrelated-histories

后续清理

```bash
git branch -d master       # 删除本地master分支
git push origin --delete master  # 删除远程master分支
```

分支状态

```bash
git fetch --all  # 获取所有远程分支的最新状态
git branch -a    # 查看所有分支（确认master和main存在）
```

简单提交所有 `.md` 文件

```bash
git add '*.md' && git commit -m "md update~"
```

### 2.拉取指定部分

Projects

```bash
# 1. 创建并进入新目录
mkdir Career-Projects && cd Career-Projects

# 2. 初始化 Git 仓库
git init

# 3. 启用稀疏检出
git config core.sparseCheckout true

# 4. 指定要拉取的目录（假设 Projects 服务在 Projects/ 目录）
echo "Projects/*" >> .git/info/sparse-checkout

# 5. 添加远程仓库
git remote add origin git@github.com:MKing-Super/Career.git

# 6. 拉取代码（使用正确的分支名，如 main 或 master）
git pull origin main
```

eureka-server

```bash
mkdir eureka-server && cd eureka-server
git init
git config core.sparseCheckout true
# 根据结构路径指定
echo "Projects/springcloud-demo/eureka-server/*" >> .git/info/sparse-checkout
git remote add origin git@github.com:MKing-Super/Career.git
git pull origin main
```

