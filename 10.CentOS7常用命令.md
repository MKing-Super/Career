# CentOS7常用命令

注：

在linux中命名中不应带有“-”。如：eureka-server 会使脚本执行中断；eureka_server 可以使脚本正常执行。

## 一、进程

### 1 ps

```bash
# 查看进程树中关于 java 
[root@localhost ~]# ps -ef --forest | grep 'java -jar'
root     16904     1  0 02:33 ?        00:00:17 java -jar /root/Career/Projects/springcloud-demo/work-admin/target/work-admin-1.0.0-SNAPSHOT.jar


# 查看进程PID
[root@localhost ~]# ps -ef | grep 'java -jar' | grep -v grep | awk '{print $2}'
16904


# 杀死进程
[root@localhost ~]# kill 16904
```

### 2 ss

```bash
# 通过端口看pid
[root@localhost ~]# ss -tulnp | grep 9200
tcp    LISTEN     0      128    [::]:9200               [::]:*                   users:(("java",pid=17173,fd=34))

# 杀死进程
[root@localhost ~]# kill -9 17173
```

### 3 fuser

```bash
# 替换 8080 为你的端口号
fuser -n tcp 8761  
8761/tcp:            25714

# 杀死进程
kill -9 25714
```

### 4 netstat

```bash
# 通过PID查端口
netstat -tunlp | grep 2155
```



## 二、文本

### 1 vim

```bash
# 向下查找
/WORK
# - 按 **`n`** 跳转到下一个匹配项
# - 按 **`N`**（Shift + n）跳转到上一个匹配项

# 跳行
:指定行

# 文本内复制一行
yy
# 文本内粘贴一行
p

# 文本内删除一行
dd
```



### 2 tail

```bash
# 最后 100 行
tail -n 100 /root/logs/work-admin.log

# 实时查看日志的最后 100 行并持续输出新内容
tail -n 100 -f /root/logs/work-admin.log
```



## 三、防火墙

### 1 firewalld

```bash
# 永久开放
firewall-cmd --add-port=8080/tcp --permanent

# 重载配置使生效
firewall-cmd --reload

# 查看已开放端口
firewall-cmd --list-ports

# 检查特定端口
firewall-cmd --query-port=8080/tcp

# 查看状态
systemctl status firewalld

# 启动防火墙
systemctl start firewalld

# 设置开机自启
systemctl enable firewalld
```



## 四、文件

### 1 find

```bash
# 按文件名查找
find / -type f -name "filename.txt" 2>/dev/null

# 按部分名称查找（通配符）
find /home -type f -name "*.log"  # 查找/home下所有.log文件
```

