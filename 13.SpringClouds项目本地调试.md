# SpringClouds项目本地调试

项目结构

```bash
.
└── springcloud-demo
    ├── api-gateway
    ├── eureka-server
    ├── home-admin
    ├── home-api
    ├── home-service
    ├── life-admin
    ├── life-api
    ├── life-service
    ├── pom.xml
    ├── ReadMe.txt
    ├── work-admin
    ├── work-api
    └── work-service
```

站点详情

```
10.50.10.113:9100	api-gateway
10.50.10.113:9200	eureka-server

10.100.213.41:9001	work-service
10.100.213.41:9002	work-admin
10.100.213.41:9003	home-service
10.100.213.41:9004	home-admin
```

在本地启动 home-admin、home-service，让本地的home-admin可以调用本地的home-service。



## 一、修改站点配置

无需启动本地网关

home-service

```yaml
# application-local.yml
eureka:
  client:
    service-url:
      defaultZone: http://10.50.10.113:9100/eureka/
```

home-admin

```yaml
feign:
  client:
    config:
      home-service: # 使用服务名作为key
        url: http://localhost:9005
ribbon:
  eureka:
    enabled: true

home-service:
  ribbon:
    listOfServers: http://localhost:9005  # 强制指向本地
    NIWSServerListClassName: com.netflix.loadbalancer.ConfigurationBasedServerList
```



## 二、网关指定